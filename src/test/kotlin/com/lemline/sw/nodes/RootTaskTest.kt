package com.lemline.sw.nodes


class RootTaskTest {

//    private val setTask = SetTask().withSet(SetTaskConfiguration().withAdditionalProperty("foo", "bar"))
//
//    private val retryPolicy = RetryPolicy().withLimit(RetryLimit().withAttempt(RetryLimitAttempt().withCount(10)))
//
//    private val rootTask = RootTask(
//        `do` = listOf(TaskItem("DoTask1", Task().apply { setSetTask(setTask) })),
//        use = Use().withRetries(UseRetries().withAdditionalProperty("retryPolicy", retryPolicy))
//    )
//
//    @Test
//    fun `test RootTask serialization with kotlinx serialization`() {
//
//        val expected =
//            """{"do":[{"DoTask1":null}],"use":{"extensions":[],"retries":{"retryPolicy":{"limit":{"attempt":{"count":10}}}},"secrets":[]}}"""
//        println(Json.encodeToString(rootTask))
//        assertEquals(expected, Json.encodeToString(rootTask))
//    }
//
//    @Test
//    fun `test RootTask deserialization with kotlinx serialization`() {
//        println(retryPolicy.delay.get())
//    }
} 