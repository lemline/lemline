# ---------------------------------------------------------------------
# Application configuration
# ---------------------------------------------------------------------
quarkus.application.name=workflow-runtime
quarkus.native.enabled=true
quarkus.package.jar.enabled=false
quarkus.native.additional-build-args=--initialize-at-run-time=io.netty.buffer.ByteBufUtil\\,io.netty.buffer.AbstractReferenceCountedByteBuf\\,com.github.f4b6a3.uuid
# Dev Services configuration
#quarkus.devservices.enabled=false
# ---------------------------------------------------------------------
# Logging configuration
# ---------------------------------------------------------------------
# Default log level
quarkus.log.level=WARN
quarkus.log.category."io.quarkus.config".level=DEBUG
# Set specific log levels for packages
quarkus.log.category."com.lemline".level=INFO
quarkus.log.category."com.lemline.worker".level=INFO
quarkus.log.category."com.lemline.core".level=WARN
# Console logging configuration
quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss.SSS} %-5p [%X{requestId},%X{workflowId},%X{correlationId}] [%c{2.}] (%t) %s%e%n
quarkus.console.color=true
# JSON logging for production environments
# Uncomment to enable JSON logging for better log analysis in production
#quarkus.log.handler.json=true
#quarkus.log.handler.json.date-format=yyyy-MM-dd HH:mm:ss.SSS
#quarkus.log.handler.json.pretty-print=false
#quarkus.log.handler.json.record-delimiter=\n
#quarkus.log.handler.json.exception-output-type=formatted
#quarkus.log.handler.json.additional-field.app-name.value=${quarkus.application.name}
#quarkus.log.handler.json.additional-field.env.value=production

# ---------------------------------------------------------------------
# Database configuration
# ---------------------------------------------------------------------
# Low-level properties (e.g., quarkus.datasource.*, quarkus.flyway.*) are generated by LemlineConfigSourceFactory
# Select database type: "postgresql" or "mysql"
#lemline.database.type=mysql

# Postgres default Settings
lemline.database.postgresql.host=localhost
lemline.database.postgresql.port=5432
lemline.database.postgresql.username=postgres
lemline.database.postgresql.password=postgres
lemline.database.postgresql.name=postgres

# MySQL default Settings
lemline.database.mysql.host=localhost
lemline.database.mysql.port=3306
lemline.database.mysql.username=mysql
lemline.database.mysql.password=mysql
lemline.database.mysql.name=lemline

# ---------------------------------------------------------------------
# Flyway configuration
# ---------------------------------------------------------------------
# Disabling automatic Flyway migration as we use custom configuration
quarkus.flyway.migrate-at-start=false

# ---------------------------------------------------------------------
# Hibernate configuration
# ---------------------------------------------------------------------
# Disabling Hibernate database generation as we use Flyway
quarkus.hibernate-orm.database.generation=none
#quarkus.hibernate-orm.log.sql=false
#quarkus.hibernate-orm.log.bind-parameters=false
quarkus.hibernate-orm.packages=com.lemline.worker.models

# ---------------------------------------------------------------------
# Messaging configuration
# ---------------------------------------------------------------------
# Low-level properties (e.g., mp.messaging.*, kafka.*) are generated by LemlineConfigSourceFactory

# Select a messaging type: "kafka" or "rabbitmq"
#lemline.messaging.type=kafka

# Kafka Default Settings
lemline.messaging.kafka.brokers=localhost:9092
lemline.messaging.kafka.topic-in=workflows
lemline.messaging.kafka.topic-out=workflows
lemline.messaging.kafka.topic-dlq=workflows-dlq
lemline.messaging.kafka.group-id=lemline1
lemline.messaging.kafka.offset-reset=earliest
lemline.messaging.kafka.security-protocol=# Optional (e.g., SASL_PLAINTEXT)
lemline.messaging.kafka.sasl-mechanism=# Optional (e.g., PLAIN)
lemline.messaging.kafka.sasl-username=# Optional
lemline.messaging.kafka.sasl-password=# Optional

# RabbitMQ Default Settings
lemline.messaging.rabbitmq.hostname=localhost
lemline.messaging.rabbitmq.port=5672
lemline.messaging.rabbitmq.username=guest
lemline.messaging.rabbitmq.password=guest
lemline.messaging.rabbitmq.virtual-host=/
lemline.messaging.rabbitmq.queue-in=workflows
lemline.messaging.rabbitmq.queue-out=workflows
#lemline.messaging.rabbitmq.exchange-name=# Optional
#lemline.messaging.rabbitmq.ssl-enabled=# Optional

# ---------------------------------------------------------------------
# Wait default configuration
# ---------------------------------------------------------------------
lemline.wait.outbox.batch-size=100
lemline.wait.outbox.max-attempts=5
lemline.wait.outbox.initial-delay=10s
lemline.wait.outbox.every=5s
lemline.wait.cleanup.after=7d
lemline.wait.cleanup.batch-size=500
lemline.wait.cleanup.every=1h

# ---------------------------------------------------------------------
# Retry default configuration
# ---------------------------------------------------------------------
lemline.retry.outbox.batch-size=100
lemline.retry.outbox.max-attempts=5
lemline.retry.outbox.initial-delay=10s
lemline.retry.outbox.every=5s
lemline.retry.cleanup.after=7d
lemline.retry.cleanup.batch-size=500
lemline.retry.cleanup.every=1h
